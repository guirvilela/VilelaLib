import { Meta } from '@storybook/addon-docs';

<Meta title="Guide/Testing/Primeiros passos" />

> [Voltar ao sumÃ¡rio](/?path=/docs/guide-testing-summary--page)

# Primeiros passos com Testing com Jest

## Comandos para testar os componentes

**1. Atualizar e executar todos os testes do projeto.**

Atualiza os snapshots dos testes existentes. Ãštil quando vocÃª tem mudanÃ§as intencionais na interface ou no comportamento do componente e quer refletir essas mudanÃ§as nos testes de snapshot.

```
  npm run test:update
```

**2. Executa os teste e deixa em modo observaÃ§Ã£o.**

O teste Ã© reexecutado automaticamente sempre que hÃ¡ mudanÃ§as no cÃ³digo. Ideal para desenvolvimento contÃ­nuo e iteraÃ§Ãµes rÃ¡pidas.

```
  npm run test:watch
```

**2.1 Executar num arquivo especÃ­fico**

Ao executar uma pasta especÃ­fica, evita de ficar testando outros componentes.

```
npm run test:watch -- --coverage /src/components/financeiro-page/detalhes-pagamentos-page/detalhe-pagamento-modal-add-arquivo
```

**3. ExecuÃ§Ã£o de Testes Otimizada para IntegraÃ§Ã£o ContÃ­nua**

Ele desativa a geraÃ§Ã£o de alguns arquivos de relatÃ³rio, priorizando a eficiÃªncia no processo de testes. AlÃ©m disso, ao identificar uma falha em algum teste, o Jest interrompe imediatamente a execuÃ§Ã£o e retorna um sinal de erro, fazendo com que o agente de CI trave o pipeline, evitando que o processo continue em caso de falhas crÃ­ticas.

```
  npm run test:ci
```

**4. ExecuÃ§Ã£o de Testes que falharam**

```
  npm run test:fails
```

**5. Update de Testes que falharam**

```
  npm run test:update:fails
```

---

## Estruturas de pastas

![testid structure](/assets/img/tests-guide/guide-testing-folders-structure.png)

**Pasta Snapshots**

Esta pasta Ã© gerada automaticamente ao executar o comando abaixo, quando o teste de "matches snapshot" Ã© renderizado corretamente.

```
npm run test:update
```

**Pasta index.test.tsx**

- Pasta na qual contem todos os testes do componente principal e que serÃ¡ reconhecida automaticamente para executar os testes.

**Pasta index.tsx**

Componente principal na qual vai ser testado

---

## Abrir o Coverage

ApÃ³s a execuÃ§Ã£o dos testes, vocÃª pode abrir o coverage (relatÃ³rio de cobertura de cÃ³digo) para verificar a cobertura de testes de seu componente.

Abra o a pasta Covegage e identifique o index.html

**Visualizar Coverage**

- Instale a ExtensÃ£o "Live Server"
- Aperte com botÃ£o direito no index.html
- Selecione "Open with Live server"

> ExtensÃ£o... [Live server ğŸ’»](https://marketplace.visualstudio.com/items?itemName=ritwickdey.LiveServer)

![testid folder coverage](/assets/img/tests-guide/guide-testing-folder-coverage.png)

**Executar projeto com Coverage**

Execute o comando de teste com a flag --coverage para atualizar a pasta index.html

![testid coverage](/assets/img/tests-guide/guide-testing-coverage.png)

> PrÃ³ximo passo... [Estrutura dos Testes âœğŸ»](/?path=/docs/guide-testing-estrutura--page)

---

Keep calm and code on ğŸ¤˜.
