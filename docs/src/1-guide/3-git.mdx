import { Meta } from '@storybook/addon-docs';

<Meta title="Guide/GIT" />

# GIT

_"Com o Git, cada erro √© uma oportunidade para aprender, melhorar e evoluir seu c√≥digo. ü§î" by chatGPT_

![](https://i.gifer.com/VHtB.gif)

### Clonando projetos

Para clonar um reposit√≥rio do Azure DevOps usando uma chave PAT (Personal Access Token), siga os seguintes passos:

1. Crie uma chave PAT no Azure DevOps seguindo as instru√ß√µes da [documenta√ß√£o oficial](https://learn.microsoft.com/pt-br/azure/devops/organizations/accounts/use-personal-access-tokens-to-authenticate?view=azure-devops&tabs=Windows). √â recomendado selecionar permiss√µes somente para leitura para garantir a seguran√ßa do seu reposit√≥rio.

2. Abra o Visual Studio Code ou o terminal do seu sistema operacional e navegue at√© o diret√≥rio onde deseja clonar o reposit√≥rio.

3. Execute o comando `git clone` seguido da URL do reposit√≥rio e da chave PAT no formato `https://<usuario>:<PAT>@<url do reposit√≥rio>`:

```sh
git clone https://seu_usuario:sua_chave_pat@url_do_repositorio
```

### Importante antes de continuar

Evite fazer pull de uma branch env (develop/stage/main) para a sua local, continue trabalhando na mesma ou commit todas as munda√ßas e fa√ßa um rebase!

Abaixo voc√™ pode encontrar o passo para realizar um rebase.

### Padr√£o de commit

[Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) √© uma conven√ß√£o de nomenclatura de commits que fornece uma forma consistente de criar mensagens de commit em um projeto. Essa conven√ß√£o usa um formato espec√≠fico que √© composto por um cabe√ßalho, um corpo opcional e um rodap√© opcional. O cabe√ßalho segue um padr√£o definido que inclui um tipo, um escopo e uma descri√ß√£o curta do commit. Existem os seguintes tipos de commits padronizados pelo Conventional Commits:

- **feat**: Adi√ß√£o de uma nova funcionalidade;
- **fix**: Ajuste de funcionalidade ou corre√ß√£o de um problema;
- **docs**: Atualiza√ß√£o da documenta√ß√£o;
- **style**: Mudan√ßas que n√£o afetam o significado do c√≥digo (espa√ßo em branco, formata√ß√£o, ponto-e-v√≠rgula faltando, etc.);
- **refactor**: Refatora√ß√£o do c√≥digo, sem adi√ß√£o ou remo√ß√£o de funcionalidades;
- **test**: Adi√ß√£o ou modifica√ß√£o de testes;
- **chore**: Mudan√ßas na estrutura do projeto ou em ferramentas de suporte, como atualiza√ß√£o de depend√™ncias ou configura√ß√£o do ambiente de desenvolvimento.

Al√©m do tipo, o cabe√ßalho do commit tamb√©m pode incluir um escopo opcional, que indica qual √© a parte do c√≥digo que est√° sendo modificada, e uma descri√ß√£o curta do commit. J√° o corpo do commit e o rodap√© podem incluir informa√ß√µes adicionais, como refer√™ncias a problemas ou tarefas relacionadas ao commit, por exemplo.

O uso de Conventional Commits √© uma boa pr√°tica que ajuda a manter a clareza e a consist√™ncia nas mensagens de commit, o que pode facilitar o trabalho em equipe e a manuten√ß√£o do c√≥digo ao longo do tempo.

### Padr√£o de branch

O uso de Conventional Commits em branches pode seguir a mesma l√≥gica de uso em commits, onde a mensagem de commit deve seguir as conven√ß√µes estabelecidas. Por exemplo, se voc√™ estiver trabalhando em uma branch de feature, pode nomear sua branch de acordo com o padr√£o `feat/nome-da-feature`. Al√©m disso, √© recomendado que o nome da branch seja descritivo e que descreva o objetivo daquela branch.

Dessa forma, ao criar um novo commit na branch, voc√™ deve seguir as conven√ß√µes de mensagem de commit estabelecidas pelo Conventional Commits. Isso ajuda a manter um padr√£o na nomenclatura e descri√ß√£o dos commits, facilitando a compreens√£o do hist√≥rico de mudan√ßas do projeto.

### Padr√£o de merge

No momento seguimos com o seguinte padr√£o de merge:

- `sua branch` -> `develop`: squash commit + deleta source branch
- `develop` -> `stage`: rebase and fast
- `stage` -> `main`: rebase and fast

### Resolvendo conflitos

Conflitos de c√≥digo no Git ocorrem quando duas ou mais pessoas est√£o trabalhando no mesmo arquivo e fazem altera√ß√µes em linhas semelhantes ou na mesma linha. Quando essas altera√ß√µes s√£o mescladas (merged) no reposit√≥rio Git, o Git n√£o consegue determinar automaticamente qual vers√£o do c√≥digo deve ser mantida, o que leva a um conflito.

O Git sinaliza o conflito, indicando as √°reas do arquivo em que as altera√ß√µes conflitantes foram feitas. O usu√°rio deve ent√£o resolver manualmente o conflito, escolhendo quais altera√ß√µes devem ser mantidas e quais devem ser descartadas. Isso geralmente √© feito editando o arquivo em quest√£o, removendo as marca√ß√µes de conflito inseridas pelo Git e escolhendo as altera√ß√µes corretas.

√â importante lembrar que conflitos de c√≥digo podem ser evitados ao se trabalhar em branchs separadas e comunicando altera√ß√µes relevantes ao time com anteced√™ncia. Al√©m disso, √© recomend√°vel que todos os membros da equipe estejam cientes dos conflitos de c√≥digo e saibam como resolv√™-los.

Resolver conflitos de c√≥digo no Git utilizando o rebase pode ser feito seguindo os passos abaixo:

1. Certifique-se de que voc√™ est√° no branch que deseja aplicar o rebase. Digamos que voc√™ queira aplicar o rebase do branch `feature` em cima do branch `develop`. Primeiro, mude para o branch `feature`:

```
git checkout feature
```

2. Certifique-se de que o branch `develop` est√° atualizado:

```
git fetch origin
git rebase origin/develop
```

3. Resolva os conflitos que ocorreram durante o rebase. Abra os arquivos em conflito e fa√ßa as altera√ß√µes necess√°rias para resolv√™-los.

4. Quando terminar, adicione as altera√ß√µes resolvidas:

```
git add <arquivo com conflito>
```

5. Continue o rebase:

```
git rebase --continue
```

6. Se ocorrerem mais conflitos, repita os passos 3 a 5 at√© que todos os conflitos sejam resolvidos.

7. Por fim, fa√ßa o push das altera√ß√µes para o reposit√≥rio remoto:

```
git push --force
```

√â importante lembrar que o `--force` √© necess√°rio neste caso, pois o hist√≥rico do branch `feature` foi reescrito durante o rebase. Por isso, √© preciso sobrescrever o hist√≥rico remoto com as novas altera√ß√µes. No entanto, tenha cuidado ao utilizar o `--force`, pois ele pode sobrescrever altera√ß√µes de outras pessoas no reposit√≥rio.

> Recomendamos utilizar a extens√£o `Git Graph` do VSCode para realizar esta a√ß√£o e at√© mesmo todas as fun√ß√µes do GIT üòé.

### Fluxo de PR

PR (Pull Request) √© um recurso usado em sistemas de controle de vers√£o como o Git para solicitar a revis√£o e a mesclagem de altera√ß√µes de c√≥digo feitas em um branch para outro. Em geral, uma PR √© criada quando um desenvolvedor deseja que suas altera√ß√µes sejam revisadas e eventualmente integradas ao branch principal (como a branch "master") do reposit√≥rio. A PR fornece um espa√ßo para discuss√£o e feedback antes de mesclar as altera√ß√µes. Os revisores podem adicionar coment√°rios, aprovar a PR ou solicitar altera√ß√µes adicionais antes de serem mescladas.

Para criar uma Pull Request (PR) no Azure DevOps, siga os seguintes passos:

1. Acesse o reposit√≥rio que voc√™ deseja criar a PR.
2. Clique no bot√£o "New pull request" (Nova solicita√ß√£o de pull request).
3. Selecione a branch de origem e a branch de destino para a qual voc√™ deseja solicitar a PR.
4. Adicione um t√≠tulo e descri√ß√£o para a PR, descrevendo as altera√ß√µes que voc√™ est√° solicitando.
5. Adicione os revisores para a PR. Os revisores ser√£o notificados da solicita√ß√£o de revis√£o.
6. Adicione quaisquer informa√ß√µes adicionais necess√°rias, como anexos ou links para outras informa√ß√µes relevantes.
7. Clique em "Create pull request" (Criar solicita√ß√£o de pull request) para enviar a solicita√ß√£o.

Depois de criada a PR, os revisores podem fazer coment√°rios e sugest√µes, e voc√™ pode fazer altera√ß√µes e atualizar a PR conforme necess√°rio. Uma vez que a PR foi aprovada, voc√™ pode mesclar as altera√ß√µes na branch de destino.

O Azure DevOps j√° esta configurado com as regras necessarias para mergiar o codigo da maneira correta. Basta seguir com o `complete` normalmente!

> [Documenta√ß√£o oficial](https://learn.microsoft.com/pt-br/azure/devops/repos/git/pull-requests?view=azure-devops&tabs=browser)

---

> Pr√≥ximo passo... [Como come√ßar a codar üë®‚Äçüíª](/?path=/docs/guide-coding-start--page)

Keep calm and code on ü§ò.
